<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MedMaster Quiz Hub - Professional Medical Education</title>
  <style>
    /* Design System CSS */
    :root {
      /* Custom gradient variables */
      --gradient-primary: linear-gradient(135deg, #21808d 0%, #32b8c6 100%);
      --gradient-card: linear-gradient(135deg, rgba(33, 128, 141, 0.05) 0%, rgba(50, 184, 198, 0.05) 100%);
      --gradient-button: linear-gradient(135deg, #21808d 0%, #1d7480 100%);
      --color-white: rgba(255, 255, 255, 1);
      --color-black: rgba(0, 0, 0, 1);
      --color-cream-50: rgba(252, 252, 249, 1);
      --color-cream-100: rgba(255, 255, 253, 1);
      --color-gray-200: rgba(245, 245, 245, 1);
      --color-gray-300: rgba(167, 169, 169, 1);
      --color-gray-400: rgba(119, 124, 124, 1);
      --color-slate-500: rgba(98, 108, 113, 1);
      --color-brown-600: rgba(94, 82, 64, 1);
      --color-charcoal-700: rgba(31, 33, 33, 1);
      --color-charcoal-800: rgba(38, 40, 40, 1);
      --color-slate-900: rgba(19, 52, 59, 1);
      --color-teal-300: rgba(50, 184, 198, 1);
      --color-teal-400: rgba(45, 166, 178, 1);
      --color-teal-500: rgba(33, 128, 141, 1);
      --color-teal-600: rgba(29, 116, 128, 1);
      --color-teal-700: rgba(26, 104, 115, 1);
      --color-red-400: rgba(255, 84, 89, 1);
      --color-red-500: rgba(192, 21, 47, 1);
      --color-orange-400: rgba(230, 129, 97, 1);
      --color-orange-500: rgba(168, 75, 47, 1);
      --color-brown-600-rgb: 94, 82, 64;
      --color-teal-500-rgb: 33, 128, 141;
      --color-slate-900-rgb: 19, 52, 59;
      --color-slate-500-rgb: 98, 108, 113;
      --color-background: var(--color-cream-50);
      --color-surface: var(--color-cream-100);
      --color-text: var(--color-slate-900);
      --color-text-secondary: var(--color-slate-500);
      --color-primary: var(--color-teal-500);
      --color-primary-hover: var(--color-teal-600);
      --color-primary-active: var(--color-teal-700);
      --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
      --color-border: rgba(var(--color-brown-600-rgb), 0.2);
      --color-btn-primary-text: var(--color-cream-50);
      --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
      --color-error: var(--color-red-500);
      --color-success: var(--color-teal-500);
      --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      --font-size-sm: 12px;
      --font-size-base: 14px;
      --font-size-lg: 16px;
      --font-size-xl: 18px;
      --font-size-2xl: 20px;
      --font-size-3xl: 24px;
      --font-size-4xl: 30px;
      --font-weight-normal: 400;
      --font-weight-medium: 500;
      --font-weight-semibold: 550;
      --font-weight-bold: 600;
      --space-8: 8px;
      --space-12: 12px;
      --space-16: 16px;
      --space-20: 20px;
      --space-24: 24px;
      --space-32: 32px;
      --radius-base: 8px;
      --radius-lg: 12px;
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --color-gray-400-rgb: 119, 124, 124;
        --color-teal-300-rgb: 50, 184, 198;
        --color-gray-300-rgb: 167, 169, 169;
        --color-gray-200-rgb: 245, 245, 245;
        --color-background: var(--color-charcoal-700);
        --color-surface: var(--color-charcoal-800);
        --color-text: var(--color-gray-200);
        --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
        --color-primary: var(--color-teal-300);
        --color-primary-hover: var(--color-teal-400);
        --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
        --color-border: rgba(var(--color-gray-400-rgb), 0.3);
        --color-btn-primary-text: var(--color-slate-900);
        --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
        --color-error: var(--color-red-400);
        --color-success: var(--color-teal-300);
      }
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--font-family-base);
      background: linear-gradient(135deg, var(--color-cream-50) 0%, var(--color-cream-100) 50%, var(--color-cream-50) 100%);
      color: var(--color-text);
      line-height: 1.5;
      min-height: 100vh;
      padding: 40px 20px;
      animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    .container {
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
    }

    .page {
      display: none;
    }

    .page.active {
      display: block;
    }

    .card {
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-card-border);
      box-shadow: var(--shadow-md);
      padding: var(--space-32);
    }

    /* Hub Homepage Styles */
    .hub-header {
      text-align: center;
      margin-bottom: 60px;
      animation: slideUp 0.8s ease;
    }

    .hub-title {
      font-size: 48px;
      font-weight: var(--font-weight-bold);
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 16px;
      letter-spacing: -0.02em;
    }

    .hub-subtitle {
      font-size: 18px;
      color: var(--color-text-secondary);
      font-weight: var(--font-weight-medium);
      max-width: 600px;
      margin: 0 auto;
    }

    .hub-divider {
      width: 80px;
      height: 4px;
      background: var(--gradient-primary);
      margin: 24px auto;
      border-radius: 2px;
    }

    .quiz-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
      animation: slideUp 1s ease;
    }

    .quiz-card {
      background: var(--color-surface);
      border-radius: 16px;
      border: 2px solid var(--color-card-border);
      padding: 32px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .quiz-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: var(--gradient-primary);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .quiz-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 24px rgba(33, 128, 141, 0.15);
      border-color: var(--color-primary);
    }

    .quiz-card:hover::before {
      transform: scaleX(1);
    }

    .quiz-card.selected {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(33, 128, 141, 0.2), 0 8px 16px rgba(33, 128, 141, 0.2);
      background: var(--gradient-card);
    }

    .quiz-card.selected::before {
      transform: scaleX(1);
    }

    .quiz-card-icon {
      width: 56px;
      height: 56px;
      background: var(--gradient-primary);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      font-size: 28px;
      color: white;
    }

    .quiz-card-title {
      font-size: 20px;
      font-weight: var(--font-weight-semibold);
      color: var(--color-text);
      margin-bottom: 12px;
      line-height: 1.3;
    }

    .quiz-card-info {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--color-text-secondary);
      font-size: 14px;
      font-weight: var(--font-weight-medium);
    }

    .quiz-card-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(33, 128, 141, 0.1);
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 14px;
      color: var(--color-primary);
      font-weight: var(--font-weight-semibold);
    }

    .start-button-container {
      text-align: center;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s ease;
      pointer-events: none;
      height: 0;
      overflow: hidden;
    }

    .start-button-container.visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
      height: auto;
      margin-top: 20px;
      animation: scaleIn 0.4s ease;
    }

    .btn-start {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 18px 48px;
      background: var(--gradient-primary);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: var(--font-weight-semibold);
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(33, 128, 141, 0.3);
      font-family: var(--font-family-base);
    }

    .btn-start:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(33, 128, 141, 0.4);
    }

    .btn-start:active {
      transform: translateY(0);
    }

    .btn-start::after {
      content: '‚Üí';
      font-size: 20px;
      transition: transform 0.3s ease;
    }

    .btn-start:hover::after {
      transform: translateX(4px);
    }

    h1 {
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      margin-bottom: var(--space-24);
      text-align: center;
      color: var(--color-text);
    }

    h2 {
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-16);
      text-align: center;
      color: var(--color-text);
    }

    .form-group {
      margin-bottom: var(--space-24);
    }

    label {
      display: block;
      margin-bottom: var(--space-8);
      font-weight: var(--font-weight-medium);
      font-size: var(--font-size-base);
      color: var(--color-text);
    }

    input[type="text"] {
      width: 100%;
      padding: var(--space-12);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-base);
      font-size: var(--font-size-base);
      font-family: var(--font-family-base);
      background-color: var(--color-surface);
      color: var(--color-text);
      transition: border-color 0.2s;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: var(--color-primary);
    }

    .info-box {
      background-color: var(--color-secondary);
      border-radius: var(--radius-base);
      padding: var(--space-16);
      margin-bottom: var(--space-24);
      text-align: center;
    }

    .info-label {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: var(--space-8);
    }

    .info-value {
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-text);
    }

    .btn {
      width: 100%;
      padding: var(--space-16);
      border: none;
      border-radius: var(--radius-base);
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      cursor: pointer;
      transition: all 0.2s;
      font-family: var(--font-family-base);
    }

    .btn-primary {
      background-color: var(--color-primary);
      color: var(--color-btn-primary-text);
    }

    .btn-primary:hover {
      background-color: var(--color-primary-hover);
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .quiz-header {
      text-align: center;
      margin-bottom: var(--space-32);
    }

    .topic-name {
      font-size: var(--font-size-3xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-primary);
      margin-bottom: var(--space-8);
    }

    .question-number {
      font-size: var(--font-size-lg);
      color: var(--color-text-secondary);
    }

    .question-text {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-medium);
      margin-bottom: var(--space-24);
      line-height: 1.6;
      color: var(--color-text);
    }

    .options {
      margin-bottom: var(--space-24);
    }

    .option {
      background-color: var(--color-secondary);
      border: 2px solid transparent;
      border-radius: var(--radius-base);
      padding: var(--space-16);
      margin-bottom: var(--space-12);
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: flex-start;
      gap: var(--space-12);
    }

    .option:hover {
      border-color: var(--color-primary);
    }

    .option.correct {
      background-color: rgba(33, 128, 141, 0.15);
      border-color: var(--color-success);
    }

    .option.incorrect {
      background-color: rgba(192, 21, 47, 0.15);
      border-color: var(--color-error);
    }

    .option.disabled {
      cursor: not-allowed;
      opacity: 0.8;
    }

    .option.disabled input {
      cursor: not-allowed;
    }

    .option input[type="radio"],
    .option input[type="checkbox"] {
      margin-top: 4px;
      cursor: pointer;
      width: 18px;
      height: 18px;
      flex-shrink: 0;
    }

    .option label {
      margin: 0;
      cursor: pointer;
      font-weight: var(--font-weight-normal);
      flex: 1;
    }

    .progress-section {
      margin-bottom: var(--space-24);
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: var(--space-8);
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
    }

    .progress-bar {
      width: 100%;
      height: 24px;
      background-color: var(--color-secondary);
      border-radius: var(--radius-base);
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      background-color: var(--color-success);
      transition: width 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--color-btn-primary-text);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-bold);
    }

    .navigation {
      display: flex;
      gap: var(--space-16);
    }

    .btn-nav {
      flex: 1;
      padding: var(--space-12);
      border: 1px solid var(--color-border);
      background-color: var(--color-surface);
      color: var(--color-text);
      font-weight: var(--font-weight-medium);
    }

    .btn-nav:hover:not(:disabled) {
      background-color: var(--color-secondary);
    }

    .btn-nav:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .results {
      text-align: center;
    }

    .score-display {
      background-color: var(--color-secondary);
      border-radius: var(--radius-lg);
      padding: var(--space-32);
      margin: var(--space-32) 0;
    }

    .score-label {
      font-size: var(--font-size-lg);
      color: var(--color-text-secondary);
      margin-bottom: var(--space-16);
    }

    .score-value {
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-primary);
      margin-bottom: var(--space-8);
    }

    .score-details {
      font-size: var(--font-size-lg);
      color: var(--color-text);
    }

    .error-message {
      color: var(--color-error);
      font-size: var(--font-size-sm);
      margin-top: var(--space-8);
      text-align: center;
    }

    @media (max-width: 768px) {
      .hub-title {
        font-size: 36px;
      }

      .quiz-grid {
        grid-template-columns: 1fr;
      }

      .card {
        padding: var(--space-20);
      }

      h1 {
        font-size: var(--font-size-3xl);
      }

      .topic-name {
        font-size: var(--font-size-2xl);
      }
    }

    @media (prefers-color-scheme: dark) {
      body {
        background: linear-gradient(135deg, var(--color-charcoal-700) 0%, var(--color-charcoal-800) 50%, var(--color-charcoal-700) 100%);
      }

      .quiz-card:hover {
        box-shadow: 0 12px 24px rgba(50, 184, 198, 0.2);
      }

      .quiz-card.selected {
        box-shadow: 0 0 0 3px rgba(50, 184, 198, 0.3), 0 8px 16px rgba(50, 184, 198, 0.2);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Quiz Hub Homepage -->
    <div id="hubPage" class="page active">
      <div class="hub-header">
        <h1 class="hub-title">MedMaster Quiz Hub</h1>
        <div class="hub-divider"></div>
        <p class="hub-subtitle">Professional Medical Education Platform - Test Your Knowledge in Pathology &amp; Circulatory Disorders</p>
      </div>

      <div class="quiz-grid">
        <div class="quiz-card" onclick="selectQuiz(0)" id="quiz-0">
          <div class="quiz-card-icon">ü©∫</div>
          <h3 class="quiz-card-title">Peripheral Circulatory Disorders</h3>
          <div class="quiz-card-badge">
            <span>üìù</span>
            <span>30 Questions</span>
          </div>
        </div>

        <div class="quiz-card" onclick="selectQuiz(1)" id="quiz-1">
          <div class="quiz-card-icon">ü´Ä</div>
          <h3 class="quiz-card-title">Stasis, Embolism, and Ischemia</h3>
          <div class="quiz-card-badge">
            <span>üìù</span>
            <span>43 Questions</span>
          </div>
        </div>

        <div class="quiz-card" onclick="selectQuiz(2)" id="quiz-2">
          <div class="quiz-card-icon">üî¨</div>
          <h3 class="quiz-card-title">Pathology: Circulation Disorders</h3>
          <div class="quiz-card-badge">
            <span>üìù</span>
            <span>30 Questions</span>
          </div>
        </div>
      </div>

      <div class="start-button-container" id="startButtonContainer">
        <button class="btn-start" onclick="goToQuiz()">Start Test</button>
      </div>
    </div>

    <!-- Home Page -->
    <div id="homePage" class="page">
      <div class="card">
        <h1 id="quizTitleHome">Pathology: Circulation Disorders MCQs</h1>
        
        <div class="form-group">
          <label for="userName">Enter Your Name</label>
          <input type="text" id="userName" placeholder="Your name" required>
        </div>

        <div class="info-box">
          <div class="info-label">Total Questions</div>
          <div class="info-value" id="totalQuestions">30</div>
        </div>

        <div class="info-box">
          <div class="info-label">Topic</div>
          <div class="info-value" id="topicName">Pathology: Circulation Disorders MCQs</div>
        </div>

        <button class="btn btn-primary" onclick="startQuiz()">Start Test</button>
        <div id="nameError" class="error-message" style="display: none;">Please enter your name to start the quiz.</div>
      </div>
    </div>

    <!-- Quiz Page -->
    <div id="quizPage" class="page">
      <div class="card">
        <div class="quiz-header">
          <div class="topic-name">Pathology: Circulation Disorders MCQs</div>
          <div class="question-number" id="questionNumber">Question 1 of 30</div>
        </div>

        <div class="question-text" id="questionText"></div>

        <div class="options" id="optionsContainer"></div>

        <div class="progress-section">
          <div class="progress-label">
            <span>Correct Answers Progress</span>
            <span id="progressText">0%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%;">0%</div>
          </div>
        </div>

        <div id="answerError" class="error-message" style="display: none;">Please select an answer before proceeding.</div>

        <div class="navigation">
          <button class="btn btn-nav" id="prevBtn" onclick="previousQuestion()" disabled>Previous</button>
          <button class="btn btn-nav btn-primary" id="nextBtn" onclick="nextQuestion()">Next</button>
        </div>
      </div>
    </div>

    <!-- Results Page -->
    <div id="resultsPage" class="page">
      <div class="card">
        <div class="results">
          <h1>Quiz Completed!</h1>
          
          <div class="score-display">
            <div class="score-label">Your Score</div>
            <div class="score-value" id="finalScore">0%</div>
            <div class="score-details" id="scoreDetails">0 out of 30 correct</div>
          </div>

          <button class="btn btn-primary" onclick="restartQuiz()">Restart Test</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Available quizzes
    const quizzes = [
      {
        title: "Peripheral Circulatory Disorders MCQ Test",
        questions: 30,
        link: "peripheral_mcq.html"
      },
      {
        title: "Stasis, Embolism, and Ischemia MCQ Test",
        questions: 43,
        link: "stasis_mcq.html"
      },
      {
        title: "Pathology - Circulation Disorders MCQs",
        questions: 30,
        link: "pathology_mcq.html"
      }
    ];

    let selectedQuizIndex = null;

    // Select quiz card
    function selectQuiz(index) {
      // Remove selection from all cards
      document.querySelectorAll('.quiz-card').forEach(card => {
        card.classList.remove('selected');
      });

      // Add selection to clicked card
      document.getElementById(`quiz-${index}`).classList.add('selected');
      selectedQuizIndex = index;

      // Show start button with animation
      const startButtonContainer = document.getElementById('startButtonContainer');
      startButtonContainer.classList.add('visible');
    }

    // Navigate to selected quiz
    function goToQuiz() {
      if (selectedQuizIndex === null) return;

      const selectedQuiz = quizzes[selectedQuizIndex];
      
      // Update home page with selected quiz info
      document.getElementById('quizTitleHome').textContent = selectedQuiz.title;
      document.getElementById('totalQuestions').textContent = selectedQuiz.questions;
      document.getElementById('topicName').textContent = selectedQuiz.title;
      
      // Update quiz data
      quizData.topic = selectedQuiz.title;
      
      // Show home page (name entry)
      showPage('homePage');
    }

    // Quiz data
    const quizData = {
      topic: "Pathology: Circulation Disorders MCQs",
      questions: [
        {
          question: "Possible causes of gas embolism",
          options: ["rapid increase in barometric pressure", "injury to large veins of the neck", "inhalation of air with a high concentration of inert gases", "rapid change in barometric pressure from high to normal or from normal to low"],
          correct: ["rapid change in barometric pressure from high to normal or from normal to low"],
          type: "single"
        },
        {
          question: "Sludge is:",
          options: ["first stage of intravascular blood coagulation", "vital aggregation of formed elements of the blood in the lumen of microvessels in combination with increased viscosity and separation of blood", "generalized formation of thrombo-leukocyte aggregates on the walls of microvessels", "coagulation of blood proteins in the lumen of microvessels", "separation of blood into formed elements and plasma"],
          correct: ["vital aggregation of formed elements of the blood in the lumen of microvessels in combination with increased viscosity and separation of blood"],
          type: "single"
        },
        {
          question: "Stasis can be of the following types:",
          options: ["venous", "ischemic", "true", "all answers are correct"],
          correct: ["all answers are correct"],
          type: "single"
        },
        {
          question: "The most sensitive tissue to ischemia is:",
          options: ["muscle", "connective", "nervous", "epithelial"],
          correct: ["nervous"],
          type: "single"
        },
        {
          question: "The most dangerous consequence of ischemia is:",
          options: ["hypoxia", "necrosis", "metabolic acidosis", "dystrophy"],
          correct: ["necrosis"],
          type: "single"
        },
        {
          question: "With thrombophlebitis of the lower extremities, the most likely development of embolism is:",
          options: ["cerebral arteries", "coronary arteries", "pulmonary arteries"],
          correct: ["pulmonary arteries"],
          type: "single"
        },
        {
          question: "Under stress, thrombus formation is usually:",
          options: ["activated", "inhibited", "not changed", "all answers are incorrect"],
          correct: ["activated"],
          type: "single"
        },
        {
          question: "The development of collaterals occurs faster and more intensively in:",
          options: ["ischemia", "venous hyperemia", "stasis", "arterial hyperemia"],
          correct: ["ischemia"],
          type: "single"
        },
        {
          question: "Sludge development is most typical for:",
          options: ["ischemic stasis", "capillary stasis", "venous stasis", "all answers are correct"],
          correct: ["capillary stasis"],
          type: "single"
        },
        {
          question: "In ischemia, the development of infarction is most typical for organs:",
          options: ["lungs and liver", "brain and heart", "spleen and uterus", "intestines and stomach"],
          correct: ["brain and heart"],
          type: "single"
        },
        {
          question: "With psycho-emotional excitement, the mucous membrane of the digestive tract usually develops:",
          options: ["ischemia", "arterial hyperemia", "venous hyperemia", "stasis"],
          correct: ["ischemia"],
          type: "single"
        },
        {
          question: "Probable outcomes of prolonged ischemia:",
          options: ["acidosis dystrophy necrosis", "alkalosis hypoxia necrosis", "decreased metabolism and functions alkalosis", "increased metabolism and functions dystrophy"],
          correct: ["acidosis dystrophy necrosis"],
          type: "single"
        },
        {
          question: "Signs of ischemic tissue are:",
          options: ["decreased metabolism cyanosis pain", "cyanosis decreased temperature increased volume", "paleness pain decreased temperature", "redness pain increased temperature"],
          correct: ["paleness pain decreased temperature"],
          type: "single"
        },
        {
          question: "Applying a tourniquet to a limb during bleeding ensures the development of:",
          options: ["arterial hyperemia", "ischemia", "venous hyperemia", "true stasis"],
          correct: ["ischemia"],
          type: "single"
        },
        {
          question: "The tissue most sensitive to ischemia is:",
          options: ["smooth muscle tissue", "connective tissue", "intestinal mucosa", "spermatogenic epithelium"],
          correct: ["spermatogenic epithelium"],
          type: "single"
        },
        {
          question: "Sludge phenomenon is the main mechanism of development of:",
          options: ["arterial hyperemia", "stasis", "venous hyperemia", "thrombosis", "ischemia"],
          correct: ["stasis"],
          type: "single"
        },
        {
          question: "The consequence of embolism of an arterial vessel may be:",
          options: ["arterial hyperemia", "venous hyperemia", "ischemia", "thromboembolism"],
          correct: ["ischemia"],
          type: "single"
        },
        {
          question: "What type of embolism can develop when moving from a zone of increased barometric pressure to normal?",
          options: ["fat embolism", "thromboembolism", "gas embolism", "retrograde", "tissue"],
          correct: ["gas embolism"],
          type: "single"
        },
        {
          question: "Specify the signs characteristic of ischemia:",
          options: ["decrease in temperature of superficial tissues", "decrease in temperature of internal organs", "cyanosis of an organ", "pallor of an organ or tissue", "pain", "decreased tissue turgor"],
          correct: ["decrease in temperature of superficial tissues", "pallor of an organ or tissue", "pain", "decreased tissue turgor"],
          type: "multiple"
        },
        {
          question: "What microcirculation changes are characteristic of ischemia?",
          options: ["increase in arteriovenous pressure difference", "decrease in intravascular pressure", "increase in linear blood flow velocity", "increase in fluid resorption from tissue into capillaries", "decrease in the number of functioning capillaries"],
          correct: ["decrease in intravascular pressure", "increase in fluid resorption from tissue into capillaries", "decrease in the number of functioning capillaries"],
          type: "multiple"
        },
        {
          question: "Which of the following factors can lead to the development of ischemia?",
          options: ["obstruction of an arteriole by a thrombus", "compression of veins by scar tissue", "angiospasm", "atherosclerotic changes in blood vessels", "compression of an artery by a tumor"],
          correct: ["obstruction of an arteriole by a thrombus", "angiospasm", "atherosclerotic changes in blood vessels", "compression of an artery by a tumor"],
          type: "multiple"
        },
        {
          question: "What are the possible early consequences of myocardial tissue reperfusion after short-term (up to 10 min) ischemia?",
          options: ["restoration of intensity and tissue respiration in mitochondria", "increased glycolysis", "focal necrosis", "elimination of hypoxia", "development of arterial hyperemia in the reperfusion zone", "stabilization of cell membranes", "activation of free radical reactions and lipid peroxidation"],
          correct: ["restoration of intensity and tissue respiration in mitochondria", "elimination of hypoxia", "development of arterial hyperemia in the reperfusion zone", "activation of free radical reactions and lipid peroxidation"],
          type: "multiple"
        },
        {
          question: "What biologically active substances can cause ischemia?",
          options: ["histamine", "catecholamines", "acetylcholine", "bradykinin", "thromboxane A2"],
          correct: ["catecholamines", "thromboxane A2"],
          type: "multiple"
        },
        {
          question: "What changes can occur in the ischemic zone?",
          options: ["necrosis", "acidosis", "weakening of function", "strengthening of function", "accumulation of Ca in the hyaloplasm of cells", "increase in the content of K in cells", "increase in the content of Na in cells"],
          correct: ["necrosis", "acidosis", "weakening of function", "accumulation of Ca in the hyaloplasm of cells", "increase in the content of Na in cells"],
          type: "multiple"
        },
        {
          question: "Which organs have absolutely insufficient collaterals?",
          options: ["brain", "skeletal muscles", "heart", "spleen", "kidneys", "liver", "stomach wall"],
          correct: ["brain", "heart", "spleen", "kidneys"],
          type: "multiple"
        },
        {
          question: "Specify the factors that contribute to the switching on of collateral circulation in the ischemic zone and around it:",
          options: ["increase in the concentration of adenosine in the ischemic tissue", "tachycardia", "increase in the blood pressure gradient in the arterial vessels above and below the occlusion of the artery", "acidosis in the ischemic zone", "K-hyperionia in the ischemic zone", "hypokalemia in the ischemic zone"],
          correct: ["increase in the concentration of adenosine in the ischemic tissue", "increase in the blood pressure gradient in the arterial vessels above and below the occlusion of the artery", "acidosis in the ischemic zone", "K-hyperionia in the ischemic zone"],
          type: "multiple"
        },
        {
          question: "Specify possible causes of gas embolism:",
          options: ["rapid increase in barometric pressure", "injury to large veins of the neck", "rapid decrease in barometric pressure from high to normal", "inhalation of air with a high concentration of inert gases", "rapid change in barometric pressure from normal to low"],
          correct: ["rapid decrease in barometric pressure from high to normal", "rapid change in barometric pressure from normal to low"],
          type: "multiple"
        },
        {
          question: "Specify the factors that contribute to stasis:",
          options: ["increase in albumin filtration into surrounding tissues", "direct effect of high or low temperature on tissues", "dilation of afferent vessels", "tissue damage by acids or alkalis"],
          correct: ["increase in albumin filtration into surrounding tissues", "direct effect of high or low temperature on tissues", "tissue damage by acids or alkalis"],
          type: "multiple"
        },
        {
          question: "What factors contribute to the disruption of the rheological properties of blood in microvessels?",
          options: ["decrease in the rigidity of the erythrocyte membrane", "decrease in the deformability of erythrocytes", "increased aggregation of erythrocytes with the formation of a mesh suspension", "adhesion of erythrocytes and the formation of coin columns", "change in the structure of blood flow in the capillaries", "increase in the concentration of erythrocytes in the circulatory system"],
          correct: ["decrease in the deformability of erythrocytes", "increased aggregation of erythrocytes with the formation of a mesh suspension", "adhesion of erythrocytes and the formation of coin columns", "increase in the concentration of erythrocytes in the circulatory system"],
          type: "multiple"
        },
        {
          question: "Specify emboli of endogenous origin:",
          options: ["cells of decaying tumors", "droplets of fat in fractures of tubular bones", "accumulation of parasites", "detached thrombi", "air bubbles"],
          correct: ["cells of decaying tumors", "droplets of fat in fractures of tubular bones", "detached thrombi"],
          type: "multiple"
        }
      ]
    };

    // Quiz state (stored in memory)
    let state = {
      userName: '',
      currentQuestion: 0,
      userAnswers: [],
      correctCount: 0,
      showingFeedback: false
    };

    // Initialize quiz
    function startQuiz() {
      const nameInput = document.getElementById('userName');
      const name = nameInput.value.trim();
      
      if (!name) {
        document.getElementById('nameError').style.display = 'block';
        return;
      }
      
      document.getElementById('nameError').style.display = 'none';
      state.userName = name;
      state.currentQuestion = 0;
      state.userAnswers = new Array(quizData.questions.length).fill(null);
      state.correctCount = 0;
      state.showingFeedback = false;
      
      showPage('quizPage');
      displayQuestion();
    }

    // Display current question
    function displayQuestion() {
      const question = quizData.questions[state.currentQuestion];
      const questionNum = state.currentQuestion + 1;
      const total = quizData.questions.length;
      
      document.getElementById('questionNumber').textContent = `Question ${questionNum} of ${total}`;
      document.getElementById('questionText').textContent = question.question;
      
      const optionsContainer = document.getElementById('optionsContainer');
      optionsContainer.innerHTML = '';
      
      const inputType = question.type === 'single' ? 'radio' : 'checkbox';
      const inputName = question.type === 'single' ? 'answer' : '';
      
      question.options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'option';
        
        const input = document.createElement('input');
        input.type = inputType;
        input.id = `option${index}`;
        input.value = option;
        if (inputType === 'radio') {
          input.name = inputName;
        }
        
        // Restore previous answer if exists
        if (state.userAnswers[state.currentQuestion]) {
          if (question.type === 'single') {
            if (state.userAnswers[state.currentQuestion] === option) {
              input.checked = true;
            }
          } else {
            if (state.userAnswers[state.currentQuestion].includes(option)) {
              input.checked = true;
            }
          }
        }
        
        const label = document.createElement('label');
        label.htmlFor = `option${index}`;
        label.textContent = option;
        
        optionDiv.appendChild(input);
        optionDiv.appendChild(label);
        optionsContainer.appendChild(optionDiv);
        
        // Make entire div clickable
        optionDiv.addEventListener('click', function(e) {
          if (e.target !== input) {
            input.checked = question.type === 'single' ? true : !input.checked;
          }
        });
      });
      
      // Update navigation buttons
      document.getElementById('prevBtn').disabled = state.currentQuestion === 0;
      
      // Check if this question was already answered and we're reviewing
      const hasAnswer = state.userAnswers[state.currentQuestion] !== null;
      if (hasAnswer && !state.showingFeedback) {
        // Auto-show feedback if returning to an answered question
        setTimeout(() => showFeedback(), 0);
      }
      
      document.getElementById('nextBtn').textContent = 
        state.currentQuestion === total - 1 ? 'Finish' : 'Next';
      
      // Hide error message
      document.getElementById('answerError').style.display = 'none';
      
      // Update progress
      updateProgress();
    }

    // Get current answer
    function getCurrentAnswer() {
      const question = quizData.questions[state.currentQuestion];
      
      if (question.type === 'single') {
        const selected = document.querySelector('input[name="answer"]:checked');
        return selected ? selected.value : null;
      } else {
        const checkboxes = document.querySelectorAll('#optionsContainer input[type="checkbox"]:checked');
        const selected = Array.from(checkboxes).map(cb => cb.value);
        return selected.length > 0 ? selected : null;
      }
    }

    // Check if answer is correct
    function isAnswerCorrect(answer, correctAnswers, type) {
      if (type === 'single') {
        return answer === correctAnswers[0];
      } else {
        if (answer.length !== correctAnswers.length) return false;
        const sortedAnswer = [...answer].sort();
        const sortedCorrect = [...correctAnswers].sort();
        return sortedAnswer.every((val, idx) => val === sortedCorrect[idx]);
      }
    }

    // Show feedback for current question
    function showFeedback() {
      const question = quizData.questions[state.currentQuestion];
      const options = document.querySelectorAll('#optionsContainer .option');
      
      // Disable all inputs
      options.forEach((optionDiv, index) => {
        const input = optionDiv.querySelector('input');
        input.disabled = true;
        optionDiv.classList.add('disabled');
        
        const optionValue = question.options[index];
        const isCorrectAnswer = question.correct.includes(optionValue);
        const isSelected = input.checked;
        
        // Mark all correct answers in green
        if (isCorrectAnswer) {
          optionDiv.classList.add('correct');
        }
        
        // Mark incorrectly selected answers in red
        if (isSelected && !isCorrectAnswer) {
          optionDiv.classList.add('incorrect');
        }
      });
      
      state.showingFeedback = true;
    }

    // Next question
    function nextQuestion() {
      const answer = getCurrentAnswer();
      
      // If not showing feedback yet, validate and show feedback
      if (!state.showingFeedback) {
        if (!answer) {
          document.getElementById('answerError').style.display = 'block';
          return;
        }
        
        // Save answer
        const question = quizData.questions[state.currentQuestion];
        const wasCorrectBefore = state.userAnswers[state.currentQuestion] !== null && 
          isAnswerCorrect(state.userAnswers[state.currentQuestion], question.correct, question.type);
        const isCorrectNow = isAnswerCorrect(answer, question.correct, question.type);
        
        // Update correct count
        if (!wasCorrectBefore && isCorrectNow) {
          state.correctCount++;
        } else if (wasCorrectBefore && !isCorrectNow) {
          state.correctCount--;
        }
        
        state.userAnswers[state.currentQuestion] = answer;
        updateProgress();
        
        // Show feedback
        showFeedback();
        return;
      }
      
      // If showing feedback, move to next question or finish
      state.showingFeedback = false;
      
      if (state.currentQuestion < quizData.questions.length - 1) {
        state.currentQuestion++;
        displayQuestion();
      } else {
        showResults();
      }
    }

    // Previous question
    function previousQuestion() {
      if (state.currentQuestion > 0) {
        state.showingFeedback = false;
        state.currentQuestion--;
        displayQuestion();
      }
    }

    // Update progress bar
    function updateProgress() {
      const total = quizData.questions.length;
      const percentage = Math.round((state.correctCount / total) * 100 * 100) / 100;
      const displayPercentage = percentage.toFixed(2);
      
      document.getElementById('progressText').textContent = `${displayPercentage}%`;
      document.getElementById('progressFill').style.width = `${percentage}%`;
      document.getElementById('progressFill').textContent = `${displayPercentage}%`;
    }

    // Show results
    function showResults() {
      const total = quizData.questions.length;
      const percentage = Math.round((state.correctCount / total) * 100);
      
      document.getElementById('finalScore').textContent = `${percentage}%`;
      document.getElementById('scoreDetails').textContent = 
        `${state.correctCount} out of ${total} correct`;
      
      showPage('resultsPage');
    }

    // Restart quiz
    function restartQuiz() {
      state = {
        userName: '',
        currentQuestion: 0,
        userAnswers: [],
        correctCount: 0,
        showingFeedback: false
      };
      document.getElementById('userName').value = '';
      showPage('homePage');
    }

    // Show specific page
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      document.getElementById(pageId).classList.add('active');
    }

    // Initialize total questions display
    document.getElementById('totalQuestions').textContent = quizData.questions.length;
  </script>
</body>
</html>